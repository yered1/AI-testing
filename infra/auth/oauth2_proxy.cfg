provider = "${OAUTH2_PROXY_PROVIDER}"
oidc_issuer_url = "${OAUTH2_PROXY_OIDC_ISSUER_URL}"
client_id = "${OAUTH2_PROXY_CLIENT_ID}"
client_secret = "${OAUTH2_PROXY_CLIENT_SECRET}"
redirect_url = "${OAUTH2_PROXY_REDIRECT_URL}"
cookie_secret = "${OAUTH2_PROXY_COOKIE_SECRET}"
email_domains = [ "${OAUTH2_PROXY_EMAIL_DOMAINS}" ]

# We use oauth2-proxy only for auth checks via /oauth2/auth (auth_request)
# Return 200 on upstream; Nginx will proxy to orchestrator itself.
upstreams = [ "static://200" ]

# Ensure headers for auth_request are emitted
set_xauthrequest = ${OAUTH2_PROXY_SET_XAUTHREQUEST}
pass_user_headers = true
pass_authorization_header = true
skip_provider_button = true
cookie_secure = ${OAUTH2_PROXY_COOKIE_SECURE}
cookie_samesite = "${OAUTH2_PROXY_COOKIE_SAMESITE}"
