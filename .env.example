# ============================================
# AI-Testing Platform Configuration
# ============================================
# Copy this file to .env and update values

# === CORE CONFIGURATION ===
ENVIRONMENT=development
SECRET_KEY=CHANGE_ME_USE_RANDOM_STRING_IN_PRODUCTION
LOG_LEVEL=INFO

# === API CONFIGURATION ===
API_PORT=8080
API_VERSION=v2
ENABLE_UI=true
UI_PORT=3000

# === DATABASE ===
DB_HOST=db
DB_PORT=5432
DB_NAME=ai_testing
DB_USER=postgres
DB_PASSWORD=CHANGE_ME_IN_PRODUCTION
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# === REDIS ===
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}

# === STORAGE ===
EVIDENCE_DIR=/evidence
MAX_UPLOAD_SIZE=100M

# === SECURITY ===
# CRITICAL: Never set to 1 without proper authorization
ALLOW_ACTIVE_SCAN=0
ENABLE_RBAC=false
JWT_SECRET=${SECRET_KEY}
JWT_EXPIRY=3600

# === OPA POLICY ENGINE ===
OPA_URL=http://opa:8181
OPA_PORT=8181
OPA_ENABLED=true

# === AI PROVIDERS (Optional) ===
# OpenAI Configuration
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4
# OPENAI_BASE_URL=https://api.openai.com/v1
# OPENAI_TIMEOUT=60

# Anthropic Configuration
# ANTHROPIC_API_KEY=sk-ant-...
# ANTHROPIC_MODEL=claude-3-opus-20240229
# ANTHROPIC_TIMEOUT=60

# Azure OpenAI Configuration
# AZURE_OPENAI_KEY=...
# AZURE_OPENAI_ENDPOINT=https://....openai.azure.com/
# AZURE_OPENAI_DEPLOYMENT=...
# AZURE_OPENAI_API_VERSION=2024-02-01

# === AGENT TOKENS ===
# Generate with: ./scripts/manage.sh agent-token [name]
# ZAP_AGENT_TOKEN=
# NUCLEI_AGENT_TOKEN=
# SEMGREP_AGENT_TOKEN=
# NMAP_AGENT_TOKEN=
# KALI_AGENT_TOKEN=

# === AUTHENTICATION (Optional) ===
# OAuth2/OIDC Configuration
# OAUTH2_ENABLED=false
# OAUTH2_CLIENT_ID=
# OAUTH2_CLIENT_SECRET=
# OAUTH2_ISSUER=
# OAUTH2_REDIRECT_URI=http://localhost:8080/auth/callback
# OAUTH2_SCOPE=openid email profile

# === NOTIFICATIONS (Optional) ===
# Slack Integration
# SLACK_ENABLED=false
# SLACK_WEBHOOK=https://hooks.slack.com/services/...

# Email Configuration
# EMAIL_ENABLED=false
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_USER=
# EMAIL_SMTP_PASSWORD=
# EMAIL_FROM=noreply@ai-testing.local
# EMAIL_USE_TLS=true

# === MONITORING (Optional) ===
# Prometheus Metrics
# METRICS_ENABLED=true
# METRICS_PORT=9090

# Sentry Error Tracking
# SENTRY_ENABLED=false
# SENTRY_DSN=https://...@sentry.io/...

# === RATE LIMITING ===
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# === FEATURE FLAGS ===
FEATURE_AI_PLANNING=true
FEATURE_REPORT_GENERATION=true
FEATURE_AGENT_AUTODISCOVERY=false
FEATURE_VULNERABILITY_CORRELATION=true

# === DOCKER CONFIGURATION ===
COMPOSE_PROJECT_NAME=ai_testing
DOCKER_BUILDKIT=1
