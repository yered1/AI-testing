{% extends "base.html" %}
{% block content %}
<section>
  <h2>New Engagement</h2>
  <form id="eng-form">
    <label>Tenant ID <input id="tenantId" placeholder="t_demo" value="t_demo"></label>
    <label>Name <input id="engName" placeholder="web-scan"></label>
    <label>Type
      <select id="engType">
        <option value="web">web</option>
        <option value="network">network</option>
        <option value="mobile">mobile</option>
      </select>
    </label>
    <label>In-scope domains (comma-separated) <input id="domains" placeholder="example.com"></label>
    <label>In-scope CIDRs (comma-separated) <input id="cidrs" placeholder=""></label>
    <button type="button" onclick="createEngagement()">Create Engagement</button>
  </form>
  <hr>
  <div id="plan-area" class="hidden">
    <h3>Plan</h3>
    <div>
      <button type="button" onclick="autoPlan()">Auto Plan</button>
      <button type="button" onclick="validatePlan()">Validate</button>
      <button type="button" onclick="createPlan()">Create Plan</button>
      <button type="button" onclick="startRun()">Start Run</button>
    </div>
    <div>
      <label>Risk Tier
        <select id="riskTier">
          <option value="safe_passive">safe_passive</option>
          <option value="safe_active" selected>safe_active</option>
          <option value="intrusive">intrusive</option>
        </select>
      </label>
    </div>
    <div id="tests"></div>
    <pre id="validateOut"></pre>
  </div>
</section>
{% endblock %}
